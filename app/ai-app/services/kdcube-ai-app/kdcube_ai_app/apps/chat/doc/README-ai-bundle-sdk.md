# Chatbot SDK
AI Bundle SDK provides tools and utilities to build and manage AI-powered chatbots.
It includes features for handling conversations, managing user sessions, and integrating with various AI models.

Start here:
- SDK index: [doc/SDK-index.md](../doc/SDK-index.md)

## Features
| Concept             | Utility                                                                       | Description                                                                                                                                                                                                                                                                                                                                                                                      | Docs                                                                 | Examples (bundles)                                                                                                   | Notes                                                                                                                                                                                     |
|---------------------|-------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| communicator        | [Chat emitters (SimpleEmitters + ChatCommunicator)](../sdk/comm/emitters.py) | High-level helpers to talk to the chat runtime: **stream tokens** (`chat.delta`), **post step updates** (`chat.step`), and send **typed UI cards** (e.g. `chat.followups`). Wraps service & conversation metadata and **routes typed events to `chat_step` by default**, so the existing client picks them up without extra wiring. Minimal API: `step()`, `delta()`, `event()`, `followups()`.  | ['AI Bundle' communication](../sdk/comm/emitters.py)                | [streaming_and_storage](../sdk/examples/bundles/streaming_and_storage@2026-02-01-22-53/README.md)                     | `delta.index` must be monotonic; `delta.marker` is `"thinking"` or `"answer"`. `step(markdown=...)` auto-wraps to compose. Avoid custom `route` unless the client listens for it.         |
| communication       | [Comm system](comm-system.md)                                                | Producer API for steps, deltas, and typed events routed to SSE/Socket.IO. Use this as the single source for markers and event envelopes.                                                                                                                                                                                                                                                       | [Comm README](../sdk/comm/README-comm.md)                           | [with_context](../sdk/examples/bundles/with_context@2026-02-09-01-02/README.md)                                        | Stick to `thinking` + `answer` markers unless you own a custom client widget.                                                                                                            |
| bundle storage      | [AI Bundle Storage](../sdk/storage/ai_bundle_storage.py)                     | Per-bundle persistent storage (file:// and s3://) for artifacts, logs, and RAG cache.</br> Scoped under `cb/tenants/{tenant}/projects/{project}/ai-bundle-storage/{ai_bundle_id}/`.</br> Minimal API: `write()`, `read()`, `list(prefix)`, `exists()`, `delete()`.                                                                                                                               | ['AI Bundle' storage](../sdk/storage/ai_bundle_storage.py)          | [streaming_and_storage](../sdk/examples/bundles/streaming_and_storage@2026-02-01-22-53/README.md)                     | Uses pluggable backends via create_storage_backend; supports ContentType metadata.                                                                                                        |
| attachments & files | [Attachments system](attachments-system.md)                                 | Upload + generated files with storage and indexing; supports file events and workspace listing.                                                                                                                                                                                                                                                                                                  | [Workspace + files](../sdk/runtime/solution/solution_workspace.py)  | [with_context](../sdk/examples/bundles/with_context@2026-02-09-01-02/README.md)                                        | See file events and `chat.files` in `comm-system.md`.                                                                                                                                     |
| skills              | [Skills subsystem](../sdk/skills/skills-README.md)                           | Defines and injects reusable instructions into generators (decision, codegen, final answer). Includes skill discovery, imports, and perâ€‘consumer filtering.                                                                                                                                                                                                                                      | [Skills infra](../sdk/skills/skills-infra-README.md)                | [with_context](../sdk/examples/bundles/with_context@2026-02-09-01-02/README.md)                                        | Skills do not alter tool behavior; they only shape generators.                                                                                                                           |
| memory              | [Memory subsystem](../sdk/context/memory/memories-README.md)                 | Turn memories, feedback, and assistant signals. Includes extraction, storage, and presentation to agents.                                                                                                                                                                                                                                                                                       | [Memory docs](../sdk/context/memory/memories-README.md)             | [with_context](../sdk/examples/bundles/with_context@2026-02-09-01-02/README.md)                                        | Designed for both chatbot and copilot-style apps.                                                                                                                                         |
| context browser     | [Context browser](../sdk/runtime/solution/context/browser-README.md)         | Unified read/write API for conversation context: search, turn logs, and artifacts. Replaces direct ctx_rag calls in workflows.                                                                                                                                                                                                                                                                  | [Context browser](../sdk/runtime/solution/context/browser-README.md) | [with_context](../sdk/examples/bundles/with_context@2026-02-09-01-02/README.md)                                        | Use for context search and saving turn artifacts in bundles.                                                                                                                               |
| streaming           | [Versatile streamer](../sdk/streaming/versatile_streamer.py)                 | Multi-channel streaming (thinking/answer/followup/etc) with citation replacement. Used by LLM generator to stream deltas and structured channels.                                                                                                                                                                                                                                                | [LLM generator](../sdk/tools/llm_generator.py)                      | [with_context](../sdk/examples/bundles/with_context@2026-02-09-01-02/README.md)                                        | Stream channels to `chat.delta` + `chat.step` without manual parsing.                                                                                                                     |
| cache               | [KV cache](../../../infra/service_hub/cache-README.md)                        | Redis-backed KV cache with optional tenant/project prefixes. Use it to read/write bundle props and other lightweight configs.                                                                                                                                                                                                                                                                   | [KV cache docs](../../../infra/service_hub/cache-README.md)         | [entrypoint.py](../sdk/solutions/chatbot/entrypoint.py)                                                                  | Prefer cache over raw Redis clients in bundle code.                                                                                                                                       |
| tools               | [Tool subsystem](../sdk/runtime/tool-subsystem-README.md)                    | Defines how tool modules are discovered, cataloged, and executed (in-proc or isolated). Supports MCP tools and runtime overrides.                                                                                                                                                                                                                                                               | [Tool subsystem](../sdk/runtime/tool-subsystem-README.md)           | [with_context](../sdk/examples/bundles/with_context@2026-02-09-01-02/README.md)                                          | Tools receive ctx_client + kv cache via integrations binding.                                                                                                                             |
| bundle UX           | [Bundle UI & widgets](../../../infra/plugin/bundle-ux-README.md)              | How bundles expose custom UI widgets (React/TSX) and route calls back through integrations operations with auth.                                                                                                                                                                                                                                                                                 | [Bundle UX](../../../infra/plugin/bundle-ux-README.md)              | [AI bundles dashboard](../api/integrations/AIBundleDashboard.tsx)                                                       | Use integrations operations routes for authenticated widget calls.                                                                                                                       |
| bundle registry     | [Bundles registry & admin](../api/integrations/ai-bundle-service-README.md)  | How bundles are configured, stored, and reloaded; admin APIs for CRUD + bundle props.                                                                                                                                                                                                                                                                                                            | [Bundle service](../api/integrations/ai-bundle-service-README.md)   | [Bundle examples](../sdk/examples/bundles/README.md)                                                                     | Bundle props can be overridden via cache/redis.                                                                                                                                           |
| economics & usage   | [Economics & usage](../sdk/infra/economics/economics-usage.md)               | Accounting, budgets, rate limits, and usage tracking for LLM/embeddings/tools.                                                                                                                                                                                                                                                                                                                   | [Economics](../sdk/infra/economics/economics-usage.md)              | [entrypoint_with_economic.py](../sdk/solutions/chatbot/entrypoint_with_economic.py)                                      | Use economics base entrypoint to enable budgets/quotas.                                                                                                                                   |
| execution           | [Execution & isolation](execution/operations.md)                             | Isolated execution model for untrusted code and selected tools. Covers Docker exec, local subprocess isolation, and runtime modes.                                                                                                                                                                                                                                                               | [ISO runtime](../sdk/runtime/isolated/README-iso-runtime.md)        | [code exec widget](../sdk/runtime/solution/widgets/code-exec-widget-README.md)                                          | See runtime modes doc for which tools run where by default.                                                                                                                              |
